{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/_guards/auth.guard.ts","webpack:///src/app/_interceptors/error-interceptor.service.ts","webpack:///src/app/_interceptors/jwt-interceptor.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/enum/OrderStatus.ts","webpack:///src/app/enum/Role.ts","webpack:///src/app/models/ProductInOrder.ts","webpack:///src/app/models/User.ts","webpack:///src/app/models/productInfo.ts","webpack:///src/app/pages/card/card.component.ts","webpack:///src/app/pages/card/card.component.html","webpack:///src/app/pages/cart/cart.component.ts","webpack:///src/app/pages/cart/cart.component.html","webpack:///src/app/pages/login/login.component.ts","webpack:///src/app/pages/login/login.component.html","webpack:///src/app/pages/order-detail/order-detail.component.ts","webpack:///src/app/pages/order-detail/order-detail.component.html","webpack:///src/app/pages/order/order.component.ts","webpack:///src/app/pages/order/order.component.html","webpack:///src/app/pages/product-detail/detail.component.ts","webpack:///src/app/pages/product-detail/detail.component.html","webpack:///src/app/pages/product-edit/product-edit.component.ts","webpack:///src/app/pages/product-edit/product-edit.component.html","webpack:///src/app/pages/product-list/product.list.component.ts","webpack:///src/app/pages/product-list/product.list.component.html","webpack:///src/app/pages/signup/signup.component.ts","webpack:///src/app/pages/signup/signup.component.html","webpack:///src/app/pages/user-edit/user-detail.component.ts","webpack:///src/app/pages/user-edit/user-detail.component.html","webpack:///src/app/parts/navigation/navigation.component.ts","webpack:///src/app/parts/navigation/navigation.component.html","webpack:///src/app/parts/pagination/pagination.component.ts","webpack:///src/app/parts/pagination/pagination.component.html","webpack:///src/app/services/cart.service.ts","webpack:///src/app/services/order.service.ts","webpack:///src/app/services/product.service.ts","webpack:///src/app/services/user.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AuthGuard","router","userService","route","state","currentUser","currentUserValue","data","roles","indexOf","role","console","log","navigate","queryParams","returnUrl","url","providedIn","ErrorInterceptor","request","next","handle","pipe","err","status","logout","error","statusText","JwtInterceptor","token","clone","setHeaders","Authorization","type","routes","path","redirectTo","pathMatch","component","canActivate","Customer","Seller","AppRoutingModule","forRoot","useHash","declarations","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","providers","bootstrap","OrderStatus","Role","ProductInOrder","productInfo","quantity","productId","productName","productPrice","productStock","productDescription","productIcon","count","User","active","ProductInfo","productInOrder","productStatus","CardComponent","productService","querySub","subscribe","update","paramSub","params","unsubscribe","snapshot","queryParamMap","get","currentPage","size","getProds","page","length","getAllInPage","getCategoryInPage","categoryPage","category","CartComponent","cartService","productInOrders","total","updateTerms","userSubscription","user","getCart","prods","sub","prod","_","storeLocalCart","reduce","prev","cur","validateCount","remove","success","filter","checkout","error1","max","LoginComponent","submitted","model","username","password","remembered","isLogout","has","login","navigateByUrl","isInvalid","u","p","onSubmit","fillLoginFields","OrderDetailComponent","orderService","order$","show","paramMap","OrderComponent","httpClient","nextPage","getPage","order","cancel","orderId","res","orderStatus","finish","DetailComponent","cookieService","getProduct","getDetail","addItem","addToCart","ProductEditComponent","product","isEdit","add","create","ProductListComponent","productInfos","delelte","SignupComponent","location","signUp","Location","UserDetailComponent","account","nameTerms","name","NavigationComponent","root","name$","aName","currentUserSubscription","PaginationComponent","i","Array","CartService","http","cartUrl","localMap","itemsSubject","items","asObservable","totalSubject","check","JSON","parse","Object","values","localCart","getLocalCart","post","clearLocalCart","cart","products","set","stringify","put","OrderService","orderUrl","patch","ProductService","productUrl","categoryUrl","categoryType","operation","result","UserService","memo","localStorage","getItem","currentUserSubject","loginForm","setItem","handleError","removeItem","email","value","environment","production","apiUrl","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Injectable} from \"@angular/core\";\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from \"@angular/router\";\nimport {UserService} from \"../services/user.service\";\nimport {Observable} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n\n  constructor(\n    private router: Router,\n    private userService: UserService\n  ) {\n  }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    const currentUser = this.userService.currentUserValue;\n    if (currentUser) {\n      // check if route is restricted by role\n      if (route.data.roles && route.data.roles.indexOf(currentUser.role) === -1) {\n        console.log(currentUser.role + \"fail in \" + route.data.roles);\n        // role not authorised so redirect to home page\n        this.router.navigate(['/']);\n        return false;\n      }\n      // authorised so return true\n      return true;\n    }\n\n    console.log(\"Need log in\");\n    // not logged in so redirect to login page with the return url{queryParams: {returnUrl: state.url}}\n    this.router.navigate(['/login'], {queryParams: {returnUrl: state.url}});\n    return false;\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {UserService} from \"../services/user.service\";\nimport {Router} from \"@angular/router\";\nimport {Observable, throwError} from \"rxjs\";\nimport {catchError} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(private userService: UserService,\n              private router: Router) {\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(catchError(err => {\n      if (err.status === 401) {\n        // auto logout if 401 response returned from api\n        this.userService.logout();\n        this.router.navigate(['/login']);\n      }\n\n      const error = err.error || err.statusText;\n      return throwError(error);\n    }))\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {UserService} from \"../services/user.service\";\nimport {Observable} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JwtInterceptor implements HttpInterceptor {\n\n\n  constructor(private userService: UserService,\n  ) {\n\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // add authorization header with jwt token if available\n    const currentUser = this.userService.currentUserValue;\n    if (currentUser && currentUser.token) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `${currentUser.type} ${currentUser.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n    }\n    return next.handle(request);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {CardComponent} from './pages/card/card.component';\nimport {LoginComponent} from './pages/login/login.component';\nimport {SignupComponent} from './pages/signup/signup.component';\nimport {DetailComponent} from './pages/product-detail/detail.component';\nimport {CartComponent} from './pages/cart/cart.component';\nimport {AuthGuard} from \"./_guards/auth.guard\";\nimport {OrderComponent} from \"./pages/order/order.component\";\nimport {OrderDetailComponent} from \"./pages/order-detail/order-detail.component\";\nimport {ProductListComponent} from \"./pages/product-list/product.list.component\";\nimport {UserDetailComponent} from \"./pages/user-edit/user-detail.component\";\nimport {ProductEditComponent} from \"./pages/product-edit/product-edit.component\";\nimport {Role} from \"./enum/Role\";\n\nconst routes: Routes = [\n  {path: '', redirectTo: '/product', pathMatch: 'full'},\n  {path: 'product/:id', component: DetailComponent},\n  {path: 'category/:id', component: CardComponent},\n  {path: 'product', component: CardComponent},\n  {path: 'category', component: CardComponent},\n  {path: 'login', component: LoginComponent},\n  {path: 'logout', component: LoginComponent},\n  {path: 'register', component: SignupComponent},\n  {path: 'cart', component: CartComponent},\n  {path: 'success', component: SignupComponent},\n  {path: 'order/:id', component: OrderDetailComponent, canActivate: [AuthGuard]},\n  {path: 'order', component: OrderComponent, canActivate: [AuthGuard]},\n  {path: 'seller', redirectTo: 'seller/product', pathMatch: 'full'},\n  {\n    path: 'seller/product',\n    component: ProductListComponent,\n    canActivate: [AuthGuard],\n    data: {roles: [Role.Customer, Role.Seller]}\n  },\n  {\n    path: 'profile',\n    component: UserDetailComponent,\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'seller/product/:id/edit',\n    component: ProductEditComponent,\n    canActivate: [AuthGuard],\n    data: {roles: [Role.Customer, Role.Seller]}\n  },\n  {\n    path: 'seller/product/:id/new',\n    component: ProductEditComponent,\n    canActivate: [AuthGuard],\n    data: {roles: [Role.Customer]}\n  },\n\n];\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    [RouterModule.forRoot(routes, {useHash: true})]\n    // RouterModule.forRoot(routes)//{onSameUrlNavigation: 'reload'}\n  ],\n  exports: [RouterModule]\n})\n\nexport class AppRoutingModule {\n}\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Simple shop';\n}\n","<!--The content below is only a placeholder and can be replaced.-->\n<div class=\"container\">\n  <app-navigation></app-navigation>\n  <router-outlet></router-outlet>\n</div>\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\n\nimport {AppComponent} from './app.component';\nimport {CardComponent} from './pages/card/card.component';\nimport {PaginationComponent} from './parts/pagination/pagination.component';\nimport {AppRoutingModule} from './app-routing.module';\nimport {LoginComponent} from './pages/login/login.component';\nimport {SignupComponent} from './pages/signup/signup.component';\nimport {DetailComponent} from './pages/product-detail/detail.component';\nimport {FormsModule} from '@angular/forms';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {CartComponent} from './pages/cart/cart.component';\nimport {CookieService} from \"ngx-cookie-service\";\nimport {ErrorInterceptor} from \"./_interceptors/error-interceptor.service\";\nimport {JwtInterceptor} from \"./_interceptors/jwt-interceptor.service\";\nimport {OrderComponent} from './pages/order/order.component';\nimport {OrderDetailComponent} from './pages/order-detail/order-detail.component';\nimport {ProductListComponent} from './pages/product-list/product.list.component';\nimport {UserDetailComponent} from './pages/user-edit/user-detail.component';\nimport {ProductEditComponent} from './pages/product-edit/product-edit.component';\nimport {NavigationComponent} from \"./parts/navigation/navigation.component\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavigationComponent,\n    CardComponent,\n    PaginationComponent,\n    LoginComponent,\n    SignupComponent,\n    DetailComponent,\n    CartComponent,\n    OrderComponent,\n    OrderDetailComponent,\n    ProductListComponent,\n    UserDetailComponent,\n    ProductEditComponent,\n\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    HttpClientModule,\n\n  ],\n  providers: [CookieService,\n    {provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","export enum OrderStatus {\n  \"New\",\n  \"Finished\",\n  \"Cenceled\"\n}\n","export enum Role {\n  Customer = 'ROLE_CUSTOMER',\n  Seller = 'ROLE_ADMIN'\n}\n","import {ProductInfo} from \"./productInfo\";\n\nexport class ProductInOrder {\n  productId: string;\n  productName: string;\n  productPrice: number;\n  productStock: number;\n  productDescription: string;\n  productIcon: string;\n  count: number;\n\n  constructor(productInfo: ProductInfo, quantity = 1) {\n    this.productId = productInfo.productId;\n    this.productName = productInfo.productName;\n    this.productPrice = productInfo.productPrice;\n    this.productStock = productInfo.productStock;\n    this.productDescription = productInfo.productDescription;\n    ;\n    this.productIcon = productInfo.productIcon;\n    this.count = quantity;\n  }\n}\n","import {Role} from \"../enum/Role\";\n\nexport class User {\n\n  email: string;\n\n  password: string;\n\n  name: string;\n\n  phone: string;\n\n  address: string;\n\n  active: boolean;\n\n  role: string;\n\n  constructor() {\n    this.active = true;\n    this.role = Role.Customer;\n  }\n}\n","import {ProductInOrder} from \"./ProductInOrder\";\n\nexport class ProductInfo {\n  productId: string;\n  productName: string;\n  productPrice: number;\n  productStock: number;\n  productDescription: string;\n  productIcon: string;\n  productStatus: number; // 0: onsale 1: offsale\n  createTime: string;\n  updateTime: string;\n\n\n  constructor(productInOrder?: ProductInOrder) {\n    if (productInOrder) {\n      this.productId = productInOrder.productId;\n      this.productName = productInOrder.productName;\n      this.productPrice = productInOrder.productPrice;\n      this.productStock = productInOrder.productStock;\n      this.productDescription = productInOrder.productDescription;\n      this.productIcon = productInOrder.productIcon;\n      this.productStatus = 0;\n    } else {\n      this.productId = '';\n      this.productName = '';\n      this.productPrice = 20;\n      this.productStock = 100;\n      this.productDescription = '';\n      this.productIcon = '';\n      this.productStatus = 0;\n    }\n  }\n}\n\n","import {Component, OnDestroy, OnInit} from '@angular/core';\n// import {prod, products} from '../shared/mockData';\nimport {ProductService} from '../../services/product.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Subscription} from \"rxjs\";\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.css']\n})\nexport class CardComponent implements OnInit, OnDestroy {\n\n\n  title: string;\n  page: any;\n  private paramSub: Subscription;\n  private querySub: Subscription;\n\n\n  constructor(private productService: ProductService,\n              private route: ActivatedRoute) {\n\n  }\n\n\n  ngOnInit() {\n    this.querySub = this.route.queryParams.subscribe(() => {\n      this.update();\n    });\n    this.paramSub = this.route.params.subscribe(() => {\n      this.update();\n    });\n\n  }\n\n  ngOnDestroy(): void {\n    this.querySub.unsubscribe();\n    this.paramSub.unsubscribe();\n  }\n\n  update() {\n    if (this.route.snapshot.queryParamMap.get('page')) {\n      const currentPage = +this.route.snapshot.queryParamMap.get('page');\n      const size = +this.route.snapshot.queryParamMap.get('size');\n      this.getProds(currentPage, size);\n    } else {\n      this.getProds();\n    }\n  }\n\n  getProds(page: number = 1, size: number = 3) {\n    if (this.route.snapshot.url.length == 1) {\n      this.productService.getAllInPage(+page, +size)\n        .subscribe(page => {\n          this.page = page;\n          this.title = 'Get Whatever You Want!';\n        });\n    } else { //  /category/:id\n      const type = this.route.snapshot.url[1].path;\n      this.productService.getCategoryInPage(+type, page, size)\n        .subscribe(categoryPage => {\n          this.title = categoryPage.category;\n          this.page = categoryPage.page;\n        });\n    }\n\n  }\n\n\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">{{title}}</h1>\n<div class=\"row card-deck text-center\">\n  <div *ngFor=\"let productInfo of page?.content\" class=\"col-lg-4 \">\n    <div class=\"card mb-4\">\n      <img height=\"50%\" class=\"card-img-top\" src=\"{{productInfo.productIcon}}\" alt=\"{{productInfo.productName}}\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title \">{{productInfo.productName}}</h4>\n        <div class=\"text-left\">\n          <p class=\"card-test\"><strong>Description: </strong>{{productInfo.productDescription}}</p>\n          <p class=\"card-text\"><strong>Price: </strong>{{productInfo.productPrice | currency}}</p>\n          <p class=\"card-text\"><strong>Stock: </strong>{{productInfo.productStock}}</p>\n        </div>\n        <br>\n        <a routerLink=\"/product/{{productInfo.productId}}\" *ngIf=\"productInfo.productStatus == 0; else offBlock\"\n           class=\"btn btn-primary btn-lg\"\n        >Get It!</a>\n        <ng-template #offBlock><a class=\"btn btn-secondary btn-lg disabled\">Unavailable</a></ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n<app-pagination [currentPage]=\"page\"></app-pagination>\n","import {AfterContentChecked, Component, OnDestroy, OnInit} from \"@angular/core\";\nimport {CartService} from \"../../services/cart.service\";\nimport {UserService} from \"../../services/user.service\";\nimport {Router} from \"@angular/router\";\nimport {JwtResponse} from \"../../response/JwtResponse\";\nimport {Subject, Subscription} from \"rxjs\";\nimport {ProductInOrder} from \"../../models/ProductInOrder\";\nimport {debounceTime, switchMap} from \"rxjs/operators\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit, OnDestroy, AfterContentChecked {\n\n  constructor(private cartService: CartService,\n              private userService: UserService,\n              private router: Router) {\n    this.userSubscription = this.userService.currentUser.subscribe(user => this.currentUser = user);\n  }\n\n  productInOrders = [];\n  total = 0;\n  currentUser: JwtResponse;\n  userSubscription: Subscription;\n\n  private updateTerms = new Subject<ProductInOrder>();\n  sub: Subscription;\n\n  static validateCount(productInOrder) {\n    const max = productInOrder.productStock;\n    if (productInOrder.count > max) {\n      productInOrder.count = max;\n    } else if (productInOrder.count < 1) {\n      productInOrder.count = 1;\n    }\n    console.log(productInOrder.count);\n  }\n\n  ngOnInit() {\n    this.cartService.getCart().subscribe(prods => {\n      this.productInOrders = prods;\n    });\n\n    this.sub = this.updateTerms.pipe(\n      // wait 300ms after each keystroke before considering the term\n      debounceTime(300),\n      //\n      // ignore new term if same as previous term\n      // Same Object Reference, not working here\n      //  distinctUntilChanged((p: ProductInOrder, q: ProductInOrder) => p.count === q.count),\n      //\n      // switch to new search observable each time the term changes\n      switchMap((productInOrder: ProductInOrder) => this.cartService.update(productInOrder))\n    ).subscribe(prod => {\n        if (prod) {\n          throw new Error();\n        }\n      },\n      _ => console.log('Update Item Failed'));\n  }\n\n  ngOnDestroy() {\n    if (!this.currentUser) {\n      this.cartService.storeLocalCart();\n    }\n    this.userSubscription.unsubscribe();\n  }\n\n  ngAfterContentChecked() {\n    this.total = this.productInOrders.reduce(\n      (prev, cur) => prev + cur.count * cur.productPrice, 0);\n  }\n\n  addOne(productInOrder) {\n    productInOrder.count++;\n    CartComponent.validateCount(productInOrder);\n    if (this.currentUser) {\n      this.updateTerms.next(productInOrder);\n    }\n  }\n\n  minusOne(productInOrder) {\n    productInOrder.count--;\n    CartComponent.validateCount(productInOrder);\n    if (this.currentUser) {\n      this.updateTerms.next(productInOrder);\n    }\n  }\n\n  onChange(productInOrder) {\n    CartComponent.validateCount(productInOrder);\n    if (this.currentUser) {\n      this.updateTerms.next(productInOrder);\n    }\n  }\n\n\n  remove(productInOrder: ProductInOrder) {\n    this.cartService.remove(productInOrder).subscribe(\n      success => {\n        this.productInOrders = this.productInOrders.filter(e => e.productId !== productInOrder.productId);\n        console.log('Cart: ' + this.productInOrders);\n      },\n      _ => console.log('Remove Cart Failed'));\n  }\n\n  checkout() {\n    if (!this.currentUser) {\n      this.router.navigate(['/login'], {queryParams: {returnUrl: this.router.url}});\n    } else if (this.currentUser.role !== Role.Customer) {\n      this.router.navigate(['/seller']);\n    } else {\n      this.cartService.checkout().subscribe(\n        _ => {\n          this.productInOrders = [];\n        },\n        error1 => {\n          console.log('Checkout Cart Failed');\n        });\n      this.router.navigate(['/']);\n    }\n\n  }\n}\n\n","<h1 align=\"center\" class=\"display-4 mb-5\">Your cart</h1>\n\n<!--Cart Detail Table-->\n<table class=\"table table-striped text-center\">\n  <thead>\n  <tr>\n    <th scope=\"col\">Photo</th>\n    <th scope=\"col\">Name</th>\n    <th scope=\"col\">Price</th>\n    <th scope=\"col\">Quantity</th>\n    <th scope=\"col\">Total</th>\n    <th scope=\"col\">Action</th>\n\n  </tr>\n  </thead>\n  <tbody>\n\n  <tr *ngFor=\"let productInOrder of productInOrders\">\n    <th class=\"align-middle\" scope=\"row\">\n      <a routerLink=\"/product/{{productInOrder.productId}}\"><img height=\"100px\"\n                                                                 src=\"{{productInOrder.productIcon}}\"\n                                                                 alt=\"{{productInOrder.productName}}\"></a>\n    </th>\n    <td class=\"align-middle\"><a\n      routerLink=\"/product/{{productInOrder.productId}}\">{{productInOrder.productName}}</a></td>\n    <td class=\"align-middle\">{{productInOrder.productPrice | currency}}</td>\n\n    <td class=\"align-middle\">\n      <a (click)=\"minusOne(productInOrder)\"><i class=\"fa fa-minus\"></i></a>\n      <input min=\"1\" id=\"{{productInOrder.productId}}\"\n             [max]=productInOrder.productStock\n             [(ngModel)]=\"productInOrder.count\"\n             (change)=\"onChange(productInOrder)\"\n             size=\"5\"\n             type=\"number\"\n             required\n             name='count'>\n      <a (click)=\"addOne(productInOrder)\"> <i class=\"fa fa-plus\"></i></a>\n    </td>\n\n    <td class=\"align-middle\">{{productInOrder.productPrice * productInOrder.count|currency}}</td>\n    <td class=\"align-middle\">\n      <a (click)=\"remove(productInOrder)\" routerLink=\"./\">Remove</a>\n    </td>\n\n  </tr>\n\n  </tbody>\n</table>\n\n<div *ngIf=\"productInOrders?.length > 0; else empty\">\n  <h5 style=\"display: inline;\">Total: {{total | currency}}</h5>\n  <button (click)=\"checkout()\" class=\"btn btn-warning float-right\">Checkout</button>\n</div>\n<ng-template #empty>\n  <h4 class=\"text-muted text-center\">Empty</h4>\n</ng-template>\n\n\n","import {Component, OnInit} from \"@angular/core\";\nimport {UserService} from \"../../services/user.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  isInvalid: boolean;\n  isLogout: boolean;\n  submitted = false;\n  model: any = {\n    username: '',\n    password: '',\n    remembered: false\n  };\n\n  returnUrl = '/';\n\n  constructor(private userService: UserService,\n              private router: Router,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    let params = this.route.snapshot.queryParamMap;\n    this.isLogout = params.has('logout');\n    this.returnUrl = params.get('returnUrl');\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    this.userService.login(this.model).subscribe(\n      user => {\n        if (user) {\n          if (user.role != Role.Customer) {\n            this.returnUrl = '/seller';\n          }\n\n          this.router.navigateByUrl(this.returnUrl);\n        } else {\n          this.isLogout = false;\n          this.isInvalid = true;\n        }\n\n      }\n    );\n  }\n\n  fillLoginFields(u, p) {\n    this.model.username = u;\n    this.model.password = p;\n    this.onSubmit();\n  }\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Sign In</h1>\n<div style=\"width:40%; margin: 25px auto\">\n\n  <div class=\"alert alert-danger\" *ngIf=\"isInvalid\">\n    Invalid username and password.\n  </div>\n  <div class=\"alert alert-info\" *ngIf=\"isLogout\">\n    You have been logged out.\n  </div>\n\n\n  <form #form='ngForm' (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label>Email address</label>\n      <input type=\"text\" class=\"form-control form-control-lg\" id=\"email\" name=\"email\" placeholder=\"Enter email\"\n             required autofocus [(ngModel)]=\"model.username\" #email=\"ngModel\" autocomplete=\"email\">\n      <div [hidden]=\"email.valid || email.pristine\" class=\"alert alert-danger\">\n        Email is required\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label>Password</label>\n      <input type=\"password\" class=\"form-control form-control-lg\" id=\"password\" name=\"password\" autocomplete=\"password\"\n             placeholder=\"Password\" required [(ngModel)]=\"model.password\" #password='ngModel'>\n      <div [hidden]=\"password.valid || password.pristine\" class=\"alert alert-danger\">\n        Email is required\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <div>\n        <input type=\"checkbox\" id=\"remember_me\" name=\"remember-me\" [(ngModel)]=\"model.remembered\">\n        <label for=\"remember_me\" class=\"inline\">Remember me</label>\n        <a class=\"float-right\" routerLink=\"/register\">Sign Up</a>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <button [disabled]=\"!form.form.valid\" type=\"submit\" class=\"btn btn-lg btn-primary btn-block\">Sign In</button>\n    </div>\n  </form>\n\n\n  <strong>Sample Users</strong>\n  <table style=\"width: 100%;\" id=\"sampleLoginTable\">\n    <tr>\n      <td><a\n        (click)=\"fillLoginFields('customer1@mail.com','123')\"\n        href=\"javascript:void(0)\">customer1</a></td>\n    </tr>\n  </table>\n\n</div>\n","import {Component, OnInit} from \"@angular/core\";\nimport {OrderService} from \"../../services/order.service\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {Order} from \"../../models/Order\";\nimport {Observable} from \"rxjs\";\n\n@Component({\n  selector: 'app-order-detail',\n  templateUrl: './order-detail.component.html',\n  styleUrls: ['./order-detail.component.css']\n})\nexport class OrderDetailComponent implements OnInit {\n\n  constructor(private orderService: OrderService,\n              private route: ActivatedRoute) {\n  }\n\n  order$: Observable<Order>;\n\n  ngOnInit() {\n    // this.items$ = this.route.paramMap.pipe(\n    //     map(paramMap =>paramMap.get('id')),\n    //     switchMap((id:string) => this.orderService.show(id))\n    // )\n    this.order$ = this.orderService.show(this.route.snapshot.paramMap.get('id'));\n  }\n\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Order Detail</h1>\n<table class=\"table table-striped text-center\">\n  <thead>\n  <tr>\n    <th scope=\"col\">Photo</th>\n    <th scope=\"col\">Name</th>\n    <th scope=\"col\">Description</th>\n    <th scope=\"col\">Price</th>\n    <th scope=\"col\">Quantity</th>\n    <th scope=\"col\">Subtotal</th>\n\n  </tr>\n  </thead>\n  <tbody>\n  <tr *ngFor=\"let item of (order$ | async)?.products\">\n    <th class=\"align-middle\" scope=\"row\">\n      <a routerLink=\"/seller/product/{{item.productId}}/edit\"><img height=\"100px\" src=\"{{item.productIcon}}\"\n                                                                   alt=\"{{item.productName}}\"></a>\n    </th>\n    <td class=\"align-middle\"><a routerLink=\"/seller/product/{{item.productId}}/edit\">{{item.productName}}</a></td>\n    <td class=\"align-middle\">{{item.productDescription}}</td>\n    <td class=\"align-middle\">{{item.productPrice | currency}}</td>\n    <td class=\"align-middle\">{{item.count}}</td>\n    <td class=\"align-middle\">{{(item.productPrice * item.count | currency)}}</td>\n  </tr>\n  </tbody>\n</table>\n<h5 style=\"display: inline\" class=\"float-right\">Total: {{(order$ | async)?.orderAmount | currency}}</h5>\n","import {Component, OnDestroy, OnInit} from \"@angular/core\";\nimport {JwtResponse} from \"../../response/JwtResponse\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {OrderService} from \"../../services/order.service\";\nimport {UserService} from \"../../services/user.service\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {Subscription} from \"rxjs\";\nimport {Order} from \"../../models/Order\";\nimport {OrderStatus} from \"../../enum/OrderStatus\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.component.html',\n  styleUrls: ['./order.component.css']\n})\nexport class OrderComponent implements OnInit, OnDestroy {\n\n  page: any;\n  OrderStatus = OrderStatus;\n  currentUser: JwtResponse;\n  Role = Role;\n\n  constructor(private httpClient: HttpClient,\n              private orderService: OrderService,\n              private userService: UserService,\n              private route: ActivatedRoute\n  ) {\n  }\n\n  querySub: Subscription;\n\n  ngOnInit() {\n    this.currentUser = this.userService.currentUserValue;\n    this.querySub = this.route.queryParams.subscribe(() => {\n      this.update();\n    });\n\n  }\n\n  update() {\n    let nextPage = 1;\n    let size = 10;\n    if (this.route.snapshot.queryParamMap.get('page')) {\n      nextPage = +this.route.snapshot.queryParamMap.get('page');\n      size = +this.route.snapshot.queryParamMap.get('size');\n    }\n    this.orderService.getPage(nextPage, size).subscribe(page => this.page = page, _ => {\n      console.log(\"Get Orde Failed\")\n    });\n  }\n\n\n  cancel(order: Order) {\n    this.orderService.cancel(order.orderId).subscribe(res => {\n      if (res) {\n        order.orderStatus = res.orderStatus;\n      }\n    });\n  }\n\n  finish(order: Order) {\n    this.orderService.finish(order.orderId).subscribe(res => {\n      if (res) {\n        order.orderStatus = res.orderStatus;\n      }\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.querySub.unsubscribe();\n  }\n\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Orders</h1>\n\n<table class=\"table table-striped text-center\">\n  <thead>\n  <tr>\n    <th scope=\"col\">Order #</th>\n    <th scope=\"col\">Customer Name</th>\n    <th scope=\"col\">Customer Email</th>\n    <th scope=\"col\">Customer phone</th>\n    <th scope=\"col\">Shipping Address</th>\n    <th scope=\"col\">Total</th>\n    <th scope=\"col\">Order Data</th>\n    <th scope=\"col\">Status</th>\n    <th scope=\"col\">Action</th>\n  </tr>\n  </thead>\n  <tbody>\n\n  <tr *ngFor=\"let order of page?.content\">\n    <th class=\"align-middle\" scope=\"row\">\n      {{order.orderId}}\n    </th>\n    <td class=\"align-middle\">{{order.buyerName}}</td>\n    <td class=\"align-middle\">{{order.buyerEmail}}</td>\n    <td class=\"align-middle\">{{order.buyerPhone}}</td>\n    <td class=\"align-middle\">{{order.buyerAddress}}</td>\n    <td class=\"align-middle\">{{order.orderAmount | currency}}</td>\n    <td class=\"align-middle\">{{order.createTime | date}}</td>\n    <td class=\"align-middle\">{{OrderStatus[order.orderStatus]}}</td>\n    <td class=\"align-middle\">\n      <a *ngIf=\"!(currentUser.role == Role.Customer && currentUser.name == order.buyerEmail)\"\n         style=\"display:\n            block\" href=\"\" routerLink=\"/order/{{order.orderId}}\">\n        Show</a>\n      <a *ngIf=\"order.orderStatus == 0\" style=\"display: block\" (click)=\"cancel(order)\" routerLink=\"./\">Cancel</a>\n      <a *ngIf=\"currentUser.role != Role.Customer && order.orderStatus == 0\"\n         style=\"display: block\"\n         (click)=\"finish(order)\"\n         routerLink=\"./\">\n        Finish</a>\n    </td>\n  </tr>\n  </tbody>\n</table>\n\n<app-pagination [currentPage]=\"page\"></app-pagination>\n","import {Component, OnInit} from '@angular/core';\nimport {ProductService} from '../../services/product.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {CartService} from '../../services/cart.service';\nimport {CookieService} from 'ngx-cookie-service';\nimport {ProductInOrder} from '../../models/ProductInOrder';\nimport {ProductInfo} from '../../models/productInfo';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css']\n})\nexport class DetailComponent implements OnInit {\n  title: string;\n  count: number;\n  productInfo: ProductInfo;\n\n  constructor(\n    private productService: ProductService,\n    private cartService: CartService,\n    private cookieService: CookieService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\n  }\n\n  ngOnInit() {\n    this.getProduct();\n    this.title = 'Product Detail';\n    this.count = 1;\n  }\n\n  // ngOnChanges(changes: SimpleChanges): void {\n  //   // Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.\n  //   // Add '${implements OnChanges}' to the class.\n  //   console.log(changes);\n  //   if (this.item.quantity in changes) {\n\n  //   }\n  // }\n\n  getProduct(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.productService.getDetail(id).subscribe(\n      prod => {\n        this.productInfo = prod;\n      },\n      _ => console.log('Get Cart Failed')\n    );\n  }\n\n  addToCart() {\n    this.cartService\n      .addItem(new ProductInOrder(this.productInfo, this.count))\n      .subscribe(\n        res => {\n          if (!res) {\n            console.log('Add Cart failed' + res);\n            throw new Error();\n          }\n          this.router.navigateByUrl('/cart');\n        },\n        _ => console.log('Add Cart Failed')\n      );\n  }\n\n  validateCount() {\n    console.log('Validate');\n    const max = this.productInfo.productStock;\n    if (this.count > max) {\n      this.count = max;\n    } else if (this.count < 1) {\n      this.count = 1;\n    }\n  }\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">{{title}}</h1>\n<div class=\"row text-center justify-content-center\">\n  <div class=\"col-lg-6 \">\n    <div class=\"card mb-4 \">\n      <img height=\"60%\" class=\"card-img-top\" src=\"{{productInfo?.productIcon}}\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title \">{{productInfo?.productName}}</h4>\n        <form name=\"form\" #form='ngForm' (ngSubmit)=\"productInfo?.productStatus == 0 && addToCart()\">\n          <div class=\"text-left\">\n            <input hidden name=\"productId\" [value]=productInfo?.productId>\n            <p class=\"card-test\"><strong>Description: </strong>{{productInfo?.productDescription}}</p>\n            <p class=\"card-text\">\n              <strong>Price: </strong>\n              <label id=\"price\">{{productInfo?.productPrice | currency}}</label>\n            </p>\n            <p class=\"card-text\"><strong>Stock: </strong>{{productInfo?.productStock}}</p>\n\n            <label class=\"card-text\">\n              <strong>Quantity: </strong>\n              <input [(ngModel)]=count\n                     (change)=\"validateCount()\"\n                     type=\"number\"\n                     name=\"count\"\n                     required\n                     min=\"1\"\n                     [max]=productInfo?.productStock\n              >\n            </label>\n\n\n            <p class=\"card-text\"><strong>Subtotal: </strong>\n              <label id=\"subtotal\">{{count * productInfo?.productPrice | currency}}</label>\n            </p>\n          </div>\n          <button type=\"submit\" [disabled]=\"!form.form.valid\" *ngIf=\"productInfo?.productStatus == 0; else offBlock\"\n                  class=\"btn btn-primary btn-lg\"\n          >Add to Cart\n          </button>\n          <ng-template #offBlock><a class=\"btn btn-secondary btn-lg disabled\">Unavailable</a></ng-template>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n","import {AfterContentChecked, Component, OnInit} from \"@angular/core\";\nimport {ProductInfo} from \"../../models/productInfo\";\nimport {ProductService} from \"../../services/product.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-product-edit',\n  templateUrl: './product-edit.component.html',\n  styleUrls: ['./product-edit.component.css']\n})\nexport class ProductEditComponent implements OnInit, AfterContentChecked {\n\n  product = new ProductInfo();\n\n  constructor(private productService: ProductService,\n              private route: ActivatedRoute,\n              private router: Router) {\n  }\n\n  productId: string;\n  isEdit = false;\n\n  ngOnInit() {\n    this.productId = this.route.snapshot.paramMap.get('id');\n    if (this.productId) {\n      this.isEdit = true;\n      this.productService.getDetail(this.productId).subscribe(prod => this.product = prod);\n    }\n\n  }\n\n  update() {\n    this.productService.update(this.product).subscribe(prod => {\n        if (!prod) throw new Error();\n        this.router.navigate(['/seller']);\n      },\n      err => {\n      });\n\n  }\n\n  onSubmit() {\n    if (this.productId) {\n      this.update();\n    } else {\n      this.add();\n    }\n  }\n\n  add() {\n    this.productService.create(this.product).subscribe(prod => {\n        if (!prod) throw new Error;\n        this.router.navigate(['/']);\n      },\n      e => {\n      });\n  }\n\n  ngAfterContentChecked(): void {\n    console.log(this.product);\n  }\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Edit Product</h1>\n<div style=\"width:40%; margin: 25px auto\">\n  <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n    <!--Id-->\n    <div class=\"form-group\">\n      <label for=\"productId\">Code</label>\n      <input [readOnly]=\"isEdit\" [disabled]=\"isEdit\" [(ngModel)]=\"product.productId\" type=\"text\"\n             class=\"form-control form-control-lg\" #productIdInput\n             id=\"productId\" name=\"productId\" required #productId=\"ngModel\">\n      <div *ngIf=\"productIdInput.invalid && (productIdInput.dirty ||productIdInput.touched)\">\n        <div *ngIf=\"productIdInput.errors.required\">\n          Name is required.\n        </div>\n      </div>\n    </div>\n    <!--Photo-->\n    <div class=\"form-group\">\n      <label>Photo Link</label>\n      <input [(ngModel)]=\"product.productIcon\" type=\"text\" class=\"form-control form-control-lg\" id=\"productIcon\"\n             name=\"productIcon\" placeholder=\"Photo\">\n    </div>\n\n    <!--Name-->\n    <div class=\"form-group\">\n      <label>Name</label>\n      <input [(ngModel)]=\"product.productName\" type=\"text\" class=\"form-control form-control-lg\" id=\"productName\"\n             #productName=\"ngModel\"\n             name=\"productName\" placeholder=\"Name\" required>\n    </div>\n    <div *ngIf=\"productName.invalid && (productName.dirty ||productName.touched)\">\n      <div *ngIf=\"productName.errors.required\">\n        Name is required.\n      </div>\n    </div>\n\n    <!--Description-->\n    <div class=\"form-group\">\n      <label>Description</label>\n      <textarea class=\"form-control form-control-lg text-left\"\n                id=\"productDescription\" name=\"productDescription\"\n                placeholder=\"Description\" [(ngModel)]=\"product.productDescription\"></textarea>\n    </div>\n    <!--Price-->\n    <div class=\"form-group\">\n      <label for=\"productPrice\">Price</label>\n      <input class=\"form-control form-control-lg\"\n             type=\"number\"\n             id=\"productPrice\"\n             name=\"productPrice\"\n             #productPrice=\"ngModel\"\n             [ngModel]=\"product.productPrice\" (ngModelChange)=\"product.productPrice=$event\"\n             required>\n      <div *ngIf=\"productPrice.invalid && (productPrice.dirty ||productPrice.touched)\">\n        <div *ngIf=\"productPrice.errors.required\">\n          Price is required.\n        </div>\n      </div>\n    </div>\n    <!--Stock-->\n    <div class=\"form-group\">\n      <label for=\"productStock\">Stock</label>\n      <input class=\"form-control form-control-lg\"\n             type=\"number\"\n             id=\"productStock\"\n             name=\"productStock\"\n             min=\"0\" #productStock=\"ngModel\"\n             [(ngModel)]=\"product.productStock\"\n             required>\n      <div *ngIf=\"productStock.invalid && (productStock.dirty ||productStock.touched)\">\n        <div *ngIf=\"productStock.errors.required\">\n          Stock is required.\n        </div>\n      </div>\n    </div>\n    <!--Status-->\n    <div class=\"form-group\">\n      <label for=\"productStatus\">Status</label>\n      <select class=\"custom-select custom-select-lg \" id=\"productStatus\" name=\"productStatus\" required\n              [(ngModel)]=\"product.productStatus\">\n        <option [ngValue]=0>Available</option>\n        <option [ngValue]=1>Unavailable</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n      <button type=\"submit\" [disabled]=\"!form.form.valid\" class=\"btn btn-lg btn-primary btn-block\">Submit</button>\n    </div>\n  </form>\n\n\n</div>\n","import {Component, OnDestroy, OnInit} from \"@angular/core\";\nimport {UserService} from \"../../services/user.service\";\nimport {ProductService} from \"../../services/product.service\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {JwtResponse} from \"../../response/JwtResponse\";\nimport {Subscription} from \"rxjs\";\nimport {ProductInfo} from \"../../models/productInfo\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-product.list',\n  templateUrl: './product.list.component.html',\n  styleUrls: ['./product.list.component.css']\n})\nexport class ProductListComponent implements OnInit, OnDestroy {\n\n  constructor(private userService: UserService,\n              private productService: ProductService,\n              private route: ActivatedRoute) {\n  }\n\n  Role = Role;\n  currentUser: JwtResponse;\n  page: any;\n  // productStatus = this.productService.getAllInPage()\n  private querySub: Subscription;\n\n  ngOnInit() {\n    this.querySub = this.route.queryParams.subscribe(() => {\n      this.update();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.querySub.unsubscribe();\n  }\n\n  update() {\n    if (this.route.snapshot.queryParamMap.get('page')) {\n      const currentPage = +this.route.snapshot.queryParamMap.get('page');\n      const size = +this.route.snapshot.queryParamMap.get('size');\n      this.getProds(currentPage, size);\n    } else {\n      this.getProds();\n    }\n  }\n\n  getProds(page: number = 1, size: number = 5) {\n    this.productService.getAllInPage(+page, +size)\n      .subscribe(page => {\n        this.page = page;\n      });\n\n  }\n\n\n  remove(productInfos: ProductInfo[], productInfo) {\n    this.productService.delelte(productInfo).subscribe(_ => {\n        productInfos = productInfos.filter(e => e.productId != productInfo);\n      },\n      err => {\n      });\n  }\n\n\n}\n","<h1 align=\"center\" class=\"display-4 \">Products</h1>\n<a *ngIf=\"currentUser?.role == Role.Customer\" style=\"color: inherit\"\n   routerLink=\"/seller/product/new\" class=\"float-right mb-3\"><i class=\"fas fa-plus fa-2x\">Add</i>\n</a>\n<table id=\"table\" class=\"table table-striped text-center\" style=\"width:100%;\">\n  <thead>\n  <tr>\n    <th scope=\"col\">Photo</th>\n    <th scope=\"col\">Code</th>\n    <th scope=\"col\">Name</th>\n    <th scope=\"col\">Type</th>\n    <th scope=\"col\">Description</th>\n    <th scope=\"col\">Price</th>\n    <th scope=\"col\">Stock</th>\n    <th scope=\"col\">Status</th>\n    <th scope=\"col\">Action</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr *ngFor=\"let productInfo of page?.content\">\n    <th class=\"align-middle\" scope=\"row\">\n      <img height=\"100px\" src=\"{{productInfo.productIcon}}\" alt=\"{{productInfo.productName}}\">\n    </th>\n    <td class=\"align-middle\">{{productInfo.productId}}</td>\n    <td class=\"align-middle\">{{productInfo.productName}}</td>\n    <td class=\"align-middle\">{{productInfo.productDescription}}</td>\n    <td class=\"align-middle\">{{productInfo.productPrice | currency}}</td>\n    <td class=\"align-middle\">{{productInfo.productStock}}</td>\n    <!--        <td class=\"align-middle\">{{ProductStatus[productInfo.productStatus]}}</td>-->\n    <td class=\"align-middle\">\n      <a style=\"display: block\" routerLink=\"/seller/product/{{productInfo.productId}}/edit\">\n        Edit</a>\n\n      <a *ngIf=\"currentUser?.role == Role.Customer\" style=\"display: block\"\n         (click)=\"remove(page.content, productInfo.productId)\" routerLink=\"./\">\n        Remove</a>\n    </td>\n\n  </tbody>\n</table>\n<app-pagination [currentPage]=\"page\"></app-pagination>\n","import {Component, OnInit} from \"@angular/core\";\nimport {User} from \"../../models/User\";\nimport {UserService} from \"../../services/user.service\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit {\n\n  user: User;\n\n  constructor(private location: Location,\n              private userService: UserService,\n              private router: Router) {\n    this.user = new User();\n\n  }\n\n\n  ngOnInit() {\n\n\n  }\n\n  onSubmit() {\n    this.userService.signUp(this.user).subscribe(u => {\n        this.router.navigate(['/login']);\n      },\n      e => {\n      });\n  }\n\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Sign Up</h1>\n<div style=\"width:40%; margin: 25px auto\">\n  <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label><b>Email address</b></label>\n      <input [(ngModel)]=\"user.email\" type=\"email\" class=\"form-control form-control-lg\" id=\"email\" name=\"email\"\n             placeholder=\"Enter email\" email required autofocus #email=\"ngModel\">\n      <div *ngIf=\"email.invalid && (email.dirty ||email.touched)\">\n        <div *ngIf=\"email.errors.required\">\n          Email is required.\n        </div>\n        <div *ngIf=\"email.errors.email\">\n          Invalid Email.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Name</b></label>\n      <input [(ngModel)]=\"user.name\" type=\"text\" class=\"form-control form-control-lg\" id=\"name\" name=\"name\"\n             placeholder=\"Your name\" required #name=\"ngModel\">\n      <div *ngIf=\"name.invalid && (name.dirty ||name.touched)\">\n        <div *ngIf=\"name.errors.required\">\n          Name is required.\n        </div>\n        <div *ngIf=\"name.errors.minlength\">\n          Name must be at least 3 characters long.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Password</b></label>\n      <input [(ngModel)]=\"user.password\" type=\"password\" class=\"form-control form-control-lg\" id=\"password\"\n             name=\"password\" placeholder=\"Password\" minlength=\"3\" required #password=\"ngModel\">\n      <div *ngIf=\"password.invalid && (password.dirty ||password.touched)\">\n        <div *ngIf=\"password.errors.required\">\n          Password is required.\n        </div>\n        <div *ngIf=\"password.errors.minlength\">\n          Password must be at least 3 characters long.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Phone</b></label>\n      <input [(ngModel)]=\"user.phone\" type=\"text\" class=\"form-control form-control-lg\" id=\"phone\" name=\"phone\"\n             placeholder=\"Phone\" required #phone=\"ngModel\">\n      <div *ngIf=\"phone.invalid && (phone.dirty ||phone.touched)\">\n        <div *ngIf=\"phone.errors.required\">\n          Phone is required.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Address</b></label>\n      <input [(ngModel)]=\"user.address\" type=\"text\" class=\"form-control form-control-lg\" id=\"address\" name=\"address\"\n             placeholder=\"Address\" required #address=\"ngModel\">\n      <div *ngIf=\"address.invalid && (address.dirty ||address.touched)\">\n        <div *ngIf=\"address.errors.required\">\n          Address is required.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\" [disabled]=\"!form.form.valid\">Sign Up</button>\n    </div>\n  </form>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\nimport {UserService} from \"../../services/user.service\";\nimport {User} from \"../../models/User\";\nimport {Router} from \"@angular/router\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.css']\n})\nexport class UserDetailComponent implements OnInit {\n\n  constructor(private userService: UserService,\n              private router: Router) {\n  }\n\n  user = new User();\n\n\n  ngOnInit() {\n    const account = this.userService.currentUserValue.account;\n\n    this.userService.get(account).subscribe(u => {\n      this.user = u;\n      this.user.password = '';\n    }, e => {\n\n    });\n  }\n\n  onSubmit() {\n    this.userService.update(this.user).subscribe(u => {\n      this.userService.nameTerms.next(u.name);\n      let url = '/';\n      if (this.user.role != Role.Customer) {\n        url = '/seller';\n      }\n      this.router.navigateByUrl(url);\n    }, _ => {\n    })\n  }\n\n}\n","<h1 align=\"center\" class=\"display-4 mb-5\">Edit Profiles</h1>\n<div style=\"width:40%; margin: 25px auto\">\n  <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label><b>Email address</b></label>\n      <input readonly [value]=user?.email type=\"email\" class=\"form-control form-control-lg \" disabled id=\"email\"\n             name=\"email\" placeholder=\"Enter email\">\n    </div>\n    <div class=\"form-group\">\n      <label><b>Name</b></label>\n      <input [(ngModel)]=\"user.name\" type=\"text\" class=\"form-control form-control-lg\" id=\"name\" name=\"name\"\n             placeholder=\"Your name\" required #name=\"ngModel\" autofocus>\n      <div *ngIf=\"name.invalid && (name.dirty || name.touched)\">\n        <div *ngIf=\"name.errors.required\">\n          Name is required.\n        </div>\n        <div *ngIf=\"name.errors.minlength\">\n          Name must be at least 3 characters long.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Password</b></label>\n      <input [(ngModel)]=\"user.password\" type=\"password\" class=\"form-control form-control-lg\" id=\"password\"\n             name=\"password\" placeholder=\"Password\" minlength=\"3\" required #password=\"ngModel\">\n      <div *ngIf=\"password.invalid && (password.dirty ||password.touched)\">\n        <div *ngIf=\"password.errors.required\">\n          Password is required.\n        </div>\n        <div *ngIf=\"password.errors.minlength\">\n          Password must be at least 3 characters long.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Phone</b></label>\n      <input [(ngModel)]=\"user.phone\" type=\"text\" class=\"form-control form-control-lg\" id=\"phone\" name=\"phone\"\n             placeholder=\"Phone\" required #phone=\"ngModel\">\n      <div *ngIf=\"phone.invalid && (phone.dirty ||phone.touched)\">\n        <div *ngIf=\"phone.errors.required\">\n          Phone is required.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label><b>Address</b></label>\n      <input [(ngModel)]=\"user.address\" type=\"text\" class=\"form-control form-control-lg\" id=\"address\" name=\"address\"\n             placeholder=\"Address\" required #address=\"ngModel\">\n      <div *ngIf=\"address.invalid && (address.dirty ||address.touched)\">\n        <div *ngIf=\"address.errors.required\">\n          Address is required.\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\" [disabled]=\"!form.form.valid\">Update</button>\n    </div>\n  </form>\n</div>\n\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UserService} from \"../../services/user.service\";\nimport {Subscription} from \"rxjs\";\nimport {JwtResponse} from \"../../response/JwtResponse\";\nimport {Router} from \"@angular/router\";\nimport {Role} from \"../../enum/Role\";\n\n@Component({\n  selector: 'app-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.css']\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n\n\n  currentUserSubscription: Subscription;\n  name$;\n  name: string;\n  currentUser: JwtResponse;\n  root = '/';\n  Role = Role;\n\n  constructor(private userService: UserService,\n              private router: Router,\n  ) {\n\n  }\n\n\n  ngOnInit() {\n    this.name$ = this.userService.name$.subscribe(aName => this.name = aName);\n    this.currentUserSubscription = this.userService.currentUser.subscribe(user => {\n      this.currentUser = user;\n      if (!user || user.role == Role.Customer) {\n        this.root = '/';\n      } else {\n        this.root = '/seller';\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.currentUserSubscription.unsubscribe();\n    // this.name$.unsubscribe();\n  }\n\n  logout() {\n    this.userService.logout();\n    // this.router.navigate(['/login'], {queryParams: {logout: 'true'}} );\n  }\n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n  <a class=\"navbar-brand\" [routerLink]=\"root\">\n    <img src=\"/assets/brand.png\" width=\"30\" height=\"30\" class=\"d-inline-block align-top\" alt=\"\">\n    Simple online shop\n  </a>\n\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n\n    <div class=\"navbar-nav\" *ngIf=\"!currentUser || currentUser.role == Role.Customer\">\n\n      <!--        <div class=\"item-nav-bar\" *ngIf=\"currentUser.role == Role.Customer;else noUser\">-->\n      <a class=\"nav-item nav-link \"\n         routerLink=\"/category/0\">\n        Category1\n      </a>\n      <a class=\"nav-item nav-link\"\n         routerLink=\"/category/1\">\n        Category2\n      </a>\n      <a class=\"nav-item nav-link \"\n         routerLink=\"/category/2\">\n        Category3\n      </a>\n      <a class=\"nav-item nav-link\"\n         routerLink=\"/category/3\">\n        Category4\n      </a>\n      <!--        </div>-->\n    </div>\n\n    <div class=\"navbar-nav ml-auto\">\n      <a *ngIf=\"!currentUser || currentUser.role == Role.Customer\"\n        class=\"nav-item nav-link \" routerLink=\"/cart\">\n        <i class=\"fas fa-shopping-cart\"></i>\n        Cart\n      </a>\n\n      <ng-container *ngIf=\"currentUser; else noUser\">\n        <a class=\"nav-item nav-link \" routerLink=\"/order\">\n          <i class=\"fas fa-list-ul\"></i>\n          Orders\n        </a>\n        <a class=\"nav-item nav-link \" routerLink=\"/profile\">\n          {{name}}\n        </a>\n        <a class=\"nav-item nav-link \" (click)=\"logout()\" routerLink=\"/login\" [queryParams]=\"{logout: true}\">\n          Sign Out\n        </a>\n      </ng-container>\n      <ng-template #noUser>\n        <a class=\"nav-item nav-link \" routerLink=\"/login\">\n          Login\n        </a>\n        <a class=\"nav-item nav-link \" routerLink=\"/register\">\n          Register\n        </a>\n      </ng-template>\n    </div>\n  </div>\n</nav>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {JwtResponse} from \"../../response/JwtResponse\";\n\n@Component({\n  selector: 'app-pagination',\n  templateUrl: './pagination.component.html',\n  styleUrls: ['./pagination.component.css']\n})\nexport class PaginationComponent implements OnInit {\n\n  @Input() currentPage: any;\n  currentUser: JwtResponse;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  counter(i = 1) {\n    return new Array(i);\n  }\n}\n","<div class=\"col-md-12 column\">\n  <ul class=\"pagination justify-content-end\" *ngIf=\"currentUser; else noUser\">\n\n    <li class=\"page-item\" *ngIf=\"currentPage?.number > 0; else prev\">\n      <a\n        class=\"page-link\"\n        [routerLink]=\"['./']\"\n        [queryParams]=\"{ page: currentPage?.number, size: currentPage?.size }\"\n      >Previous</a\n      >\n    </li>\n    <ng-template #prev>\n      <li class=\"page-item  disabled\"><a class=\"page-link\">Previous</a></li>\n    </ng-template>\n\n    <ng-container *ngFor=\"let item of counter(currentPage?.totalPages); let i = index\">\n      <li class=\"page-item\" *ngIf=\"currentPage && currentPage.number != i; else active\">\n        <a class=\"page-link \"\n           routerLink=\"./\"\n           [queryParams]=\"{ page: i + 1, size: currentPage?.size }\"\n        >{{ i + 1 }}</a\n        >\n      </li>\n      <ng-template #active>\n        <li\n          class=\"page-item active \"\n\n        >\n          <button class=\"page-link \" disabled>{{ i + 1 }}</button>\n        </li>\n      </ng-template>\n    </ng-container>\n\n    <li\n      class=\"page-item\"\n      *ngIf=\"currentPage?.number + 1 < currentPage?.totalPages; else next\"\n    >\n      <a\n        class=\"page-link\"\n        [routerLink]=\"['./']\"\n        [queryParams]=\"{\n          page: currentPage?.number + 2,\n          size: currentPage?.size\n        }\"\n      >Next</a\n      >\n    </li>\n    <ng-template #next>\n      <li class=\"page-item disabled \"><a class=\"page-link\">Next</a></li>\n    </ng-template>\n  </ul>\n  <ng-template #noUser>\n\n  </ng-template>\n</div>\n","import {Injectable} from \"@angular/core\";\nimport {apiUrl} from \"../../environments/environment\";\nimport {BehaviorSubject, Observable, of} from \"rxjs\";\nimport {Item} from \"../models/Item\";\nimport {JwtResponse} from \"../response/JwtResponse\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {UserService} from \"./user.service\";\nimport {ProductInOrder} from \"../models/ProductInOrder\";\nimport {Cart} from \"../models/Cart\";\nimport {catchError, map, tap} from \"rxjs/operators\";\nimport {CookieService} from 'ngx-cookie-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n\n  private cartUrl = `${apiUrl}/cart`;\n\n  localMap = {};\n\n\n  private itemsSubject: BehaviorSubject<Item[]>;\n  private totalSubject: BehaviorSubject<number>;\n  public items: Observable<Item[]>;\n  public total: Observable<number>;\n\n\n  private currentUser: JwtResponse;\n\n  constructor(private http: HttpClient,\n              private cookieService: CookieService,\n              private userService: UserService) {\n    this.itemsSubject = new BehaviorSubject<Item[]>(null);\n    this.items = this.itemsSubject.asObservable();\n    this.totalSubject = new BehaviorSubject<number>(null);\n    this.total = this.totalSubject.asObservable();\n    this.userService.currentUser.subscribe(user => this.currentUser = user);\n\n\n  }\n\n  private getLocalCart(): ProductInOrder[] {\n    if (this.cookieService.check('cart')) {\n      this.localMap = JSON.parse(this.cookieService.get('cart'));\n      return Object.values(this.localMap);\n    } else {\n      this.localMap = {};\n      return [];\n    }\n  }\n\n  getCart(): Observable<ProductInOrder[]> {\n    const localCart = this.getLocalCart();\n    if (this.currentUser) {\n      if (localCart.length > 0) {\n        return this.http.post<Cart>(this.cartUrl, localCart).pipe(\n          tap(_ => {\n            this.clearLocalCart();\n          }),\n          map(cart => cart.products),\n          catchError(_ => of([]))\n        );\n      } else {\n        return this.http.get<Cart>(this.cartUrl).pipe(\n          map(cart => cart.products),\n          catchError(_ => of([]))\n        );\n      }\n    } else {\n      return of(localCart);\n    }\n  }\n\n  addItem(productInOrder): Observable<boolean> {\n    if (!this.currentUser) {\n      if (this.cookieService.check('cart')) {\n        this.localMap = JSON.parse(this.cookieService.get('cart'));\n      }\n      if (!this.localMap[productInOrder.productId]) {\n        this.localMap[productInOrder.productId] = productInOrder;\n      } else {\n        this.localMap[productInOrder.productId].count += productInOrder.count;\n      }\n      this.cookieService.set('cart', JSON.stringify(this.localMap));\n      return of(true);\n    } else {\n      const url = `${this.cartUrl}/add`;\n      return this.http.post<boolean>(url, {\n        'quantity': productInOrder.count,\n        'productId': productInOrder.productId\n      });\n    }\n  }\n\n  update(productInOrder): Observable<ProductInOrder> {\n\n    if (this.currentUser) {\n      const url = `${this.cartUrl}/${productInOrder.productId}`;\n      return this.http.put<ProductInOrder>(url, productInOrder.count);\n    }\n  }\n\n\n  remove(productInOrder) {\n    if (!this.currentUser) {\n      delete this.localMap[productInOrder.productId];\n      return of(null);\n    } else {\n      const url = `${this.cartUrl}/${productInOrder.productId}`;\n      return this.http.delete(url).pipe();\n    }\n  }\n\n\n  checkout(): Observable<any> {\n    const url = `${this.cartUrl}/checkout`;\n    return this.http.post(url, null).pipe();\n  }\n\n  storeLocalCart() {\n    this.cookieService.set('cart', JSON.stringify(this.localMap));\n  }\n\n  clearLocalCart() {\n    console.log('clear local cart');\n    this.cookieService.delete('cart');\n    this.localMap = {};\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {catchError} from \"rxjs/operators\";\nimport {Observable, of} from \"rxjs\";\nimport {Order} from \"../models/Order\";\nimport {apiUrl} from \"../../environments/environment\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n\n  private orderUrl = `${apiUrl}/order`;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getPage(page = 1, size = 10): Observable<any> {\n    return this.http.get(`${this.orderUrl}?page=${page}&size=${size}`).pipe();\n  }\n\n  show(id): Observable<Order> {\n    return this.http.get<Order>(`${this.orderUrl}/${id}`).pipe(\n      catchError(_ => of(null))\n    );\n  }\n\n  cancel(id): Observable<Order> {\n    return this.http.patch<Order>(`${this.orderUrl}/cancel/${id}`, null).pipe(\n      catchError(_ => of(null))\n    );\n  }\n\n  finish(id): Observable<Order> {\n    return this.http.patch<Order>(`${this.orderUrl}/finish/${id}`, null).pipe(\n      catchError(_ => of(null))\n    );\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {apiUrl} from \"../../environments/environment\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable, of} from \"rxjs\";\nimport {ProductInfo} from \"../models/productInfo\";\nimport {catchError} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n\n  private productUrl = `${apiUrl}/product`;\n  private categoryUrl = `${apiUrl}/category`;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getAllInPage(page: number, size: number): Observable<any> {\n    const url = `${this.productUrl}?page=${page}&size=${size}`;\n    return this.http.get(url)\n      .pipe(\n        // tap(_ => console.log(_)),\n      )\n  }\n\n  getCategoryInPage(categoryType: number, page: number, size: number): Observable<any> {\n    const url = `${this.categoryUrl}/${categoryType}?page=${page}&size=${size}`;\n    return this.http.get(url).pipe(\n      // tap(data => console.log(data))\n    );\n  }\n\n  getDetail(id: String): Observable<ProductInfo> {\n    const url = `${this.productUrl}/${id}`;\n    return this.http.get<ProductInfo>(url).pipe(\n      catchError(_ => {\n        console.log(\"Get Detail Failed\");\n        return of(new ProductInfo());\n      })\n    );\n  }\n\n  update(productInfo: ProductInfo): Observable<ProductInfo> {\n    const url = `${apiUrl}/seller/product/${productInfo.productId}/edit`;\n    return this.http.put<ProductInfo>(url, productInfo);\n  }\n\n  create(productInfo: ProductInfo): Observable<ProductInfo> {\n    const url = `${apiUrl}/seller/product/new`;\n    return this.http.post<ProductInfo>(url, productInfo);\n  }\n\n\n  delelte(productInfo: ProductInfo): Observable<any> {\n    const url = `${apiUrl}/seller/product/${productInfo.productId}/delete`;\n    return this.http.delete(url);\n  }\n\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      console.error(error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","import {User} from \"../models/User\";\nimport {BehaviorSubject, Observable, of, Subject} from \"rxjs\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Injectable} from \"@angular/core\";\nimport {JwtResponse} from \"../response/JwtResponse\";\nimport {CookieService} from 'ngx-cookie-service';\nimport {apiUrl} from \"../../environments/environment\";\nimport {catchError, tap} from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  private currentUserSubject: BehaviorSubject<JwtResponse>;\n  public currentUser: Observable<JwtResponse>;\n  public nameTerms = new Subject<string>();\n  public name$ = this.nameTerms.asObservable();\n\n  constructor(private http: HttpClient,\n              private cookieService: CookieService) {\n    const memo = localStorage.getItem('currentUser');\n    this.currentUserSubject = new BehaviorSubject<JwtResponse>(JSON.parse(memo));\n    this.currentUser = this.currentUserSubject.asObservable();\n    cookieService.set('currentUser', memo);\n  }\n\n  get currentUserValue() {\n    return this.currentUserSubject.value;\n  }\n\n\n  login(loginForm): Observable<JwtResponse> {\n    const url = `${apiUrl}/login`;\n    return this.http.post<JwtResponse>(url, loginForm).pipe(\n      tap(user => {\n        if (user && user.token) {\n          this.cookieService.set('currentUser', JSON.stringify(user));\n          if (loginForm.remembered) {\n            localStorage.setItem('currentUser', JSON.stringify(user));\n          }\n          console.log((user.name));\n          this.nameTerms.next(user.name);\n          this.currentUserSubject.next(user);\n          return user;\n        }\n      }),\n      catchError(this.handleError('Login Failed', null))\n    );\n  }\n\n  logout() {\n    this.currentUserSubject.next(null);\n    localStorage.removeItem('currentUser');\n    this.cookieService.delete('currentUser');\n  }\n\n  signUp(user: User): Observable<User> {\n    const url = `${apiUrl}/register`;\n    return this.http.post<User>(url, user);\n  }\n\n  update(user: User): Observable<User> {\n    const url = `${apiUrl}/profile`;\n    return this.http.put<User>(url, user);\n  }\n\n  get(email: string): Observable<User> {\n    const url = `${apiUrl}/profile/${email}`;\n    return this.http.get<User>(url);\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      console.log(error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\nexport const apiUrl = '//localhost:8080/api';\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}